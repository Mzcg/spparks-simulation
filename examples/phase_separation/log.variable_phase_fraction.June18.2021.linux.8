SPPARKS (19 Jan 2021)
#
# SEED: 
variable SEED equal                 1
#
# T: simulation temperature
variable T equal                 0.25
#
# DT: number of KMC steps
variable DT equal 400.0
#
# IN_FILLER: stitch input filename
variable IN_FILLER world vf03_nvox100.st

# OUT_FILLER: output filename
variable OUT_FILLER world variable_phase_fraction.st

#
seed		 ${SEED}
seed		 1


# Declare phase separation ap
app_style  phase/separation
# 
dimension	 3

# 
boundary p p p

# 
lattice		 sc/26n 1.0
region		 box block 0 100 0 100 0 100
create_box	 box
Created box = (0 0 0) to (100 100 100)
  2 by 2 by 2 processor grid
create_sites     box
Creating sites ...
  1000000 sites
  1000000 sites have 26 neighbors

# Define phase labels '1' '2' and '3'
# Must always be after 'create_sites'
# Define and pin phase '1'
phasesep pin 1
# Define phases '2' and '3'
phasesep phase 2
phasesep phase 3

# Pairwise phase weights are optional; default 1.0
# Need only input weight once for pair (i,j); symmetry 
#    is enforced in app; same weight is internally 
#    assigned to pair(j,i)
# phasesep weight <double> pair <int phase_1,int phase_2> 
phasesep weight 0.5 pair 1 3

# Initialize filler from stitch file;
# In this case -- the filler phase label is '1' with 
#    all remaining sites set to a phase value '0';
# Fact that non-filler values are '0' is leveraged below;
# Read 'stitch' file using 'first' time step in file
# Sets the variable 'i1' in app phase/separation
set i1 stitch ${IN_FILLER} first
set i1 stitch vf03_nvox100.st first
  1000000 settings made for i1

# NOTE: this command is sensitive to 'phase' values 
# Distributes 2/3 of phase 0 to phase 2
# Distributes 1/3 of phase 0 to phase 3
# Sets phase 2 volume fraction .667 for non-filler phase 0
set i1 value 2 fraction .667 if i1 < 1
  472301 settings made for i1
# Sets phase 3 to balance of non-filler phase
set i1 value 3 if i1 < 1
  234751 settings made for i1

solve_style tree
sector yes
diag_style       energy
temperature	 ${T}
temperature	 0.25
stats            10.0

# Dump stitch file and images at time intervals of 100
dump         dump.id stitch 100 ${OUT_FILLER} i1
dump         dump.id stitch 100 variable_phase_fraction.st i1
dump threedee image 100 variable_phase_fraction.*.jpg site site crange 1 3 drange 1 1 shape cube box no 1 zoom 1.3 size 512 512 sdiam 1.05
dump_modify threedee scolor * red/white/black backcolor gray

run             ${DT}
run             400
Setting up run ...
Running with 32-bit site IDs
Memory usage per processor = 21.875 Mbytes
      Time    Naccept    Nreject    Nsweeps        CPU     Energy
         0          0          0          0          0 1.01643e+07
   10.1371    1152118          0          6       15.6 5.48011e+06
   28.6168    1583911          0          8       20.2 5.20748e+06
    42.797    1803844          0          9       22.5 5.12393e+06
    61.619    2036510          0         10         25 5.05931e+06
   81.5519    2241001          0         11       27.2 5.01569e+06
   104.936    2450374          0         12         30 4.97989e+06
   129.601    2639120          0         13         32 4.95467e+06
    159.12    2846261          0         14       34.3 4.92911e+06
   196.966    3089641          0         15       36.9 4.89788e+06
   232.643    3296447          0         16       39.7 4.87593e+06
   274.339    3522878          0         17       42.1 4.85717e+06
   313.867    3736420          0         18       44.9 4.84081e+06
   358.081    3956646          0         19       47.3 4.82549e+06
       400    4160107          0         20       50.1 4.81053e+06
Loop time of 50.1241 on 8 procs

Solve time (%) = 0.0982758 (0.196065)
Update time (%) = 0 (0)
Comm  time (%) = 10.2198 (20.3891)
Outpt time (%) = 2.33241 (4.65327)
App   time (%) = 37.457 (74.7286)
Other time (%) = 0.0165303 (0.0329787)
