SPPARKS (24 June 2021)
#
# SEED: 
variable SEED equal                 1
#
# T: simulation temperature
variable T equal                 0.25
#
# DT: number of KMC steps
variable DT equal 400.0
#
# IN_FILLER: stitch input filename
variable IN_FILLER world three_filler_types_100x100x100.st

# OUT_FILLER: output filename
variable OUT_FILLER world three_filler_unequal_affinities_100x100x100.st

# OUT_IMAGE: output image file names
variable OUT_IMAGE world three_filler_unequal_affinities
#
seed		 ${SEED}
seed		 1


# Declare app
app_style diffusion/multiphase

# 
dimension	 3

# periodic along each dimension
boundary p p p

# 
lattice		 sc/26n 1.0
region		 box block 0 100 0 100 0 100
create_box	 box
Created box = (0 0 0) to (100 100 100)
  2 by 2 by 2 processor grid
create_sites     box
Creating sites ...
  1000000 sites
  1000000 sites have 26 neighbors

# Define and pin phase labels '1' '2' '3'
# Must always be after 'create_sites'
diffusion/multiphase pin 1
diffusion/multiphase pin 2
diffusion/multiphase pin 3

# Define dynamic phases '4' and '5'
diffusion/multiphase phase 4
diffusion/multiphase phase 5

# Pairwise phase weights are optional; default 1.0
# Need only input weight once for pair (i,j); symmetry 
#    is enforced in app; same weight is internally 
#    assigned to pair(j,i)
#
# diffusion/multiphase weight <double> pair <int phase_1,int phase_2> 
# Override default between pinned phase 3 and dynamic phase 4; 
#    set pairwise weight between pinned phase 3 and dynamic phase 4
#    to weight=0.5
diffusion/multiphase weight 0.5 pair 3 4

# Initialize filler phases 1 2 3 from stitch file;
# In this case -- filler phase labels are '1', '2' and '3' with 
#    all remaining sites set to a phase value '0';
# Fact that non-filler values are '0' is leveraged below;
# Read 'stitch' file using 'first' time step in file
# Sets the variable 'i1' in app diffusion/multiphase
set i1 stitch ${IN_FILLER} first
set i1 stitch three_filler_types_100x100x100.st first
  1000000 settings made for i1

# NOTE: this command is sensitive to 'phase' values specified above; Idea here
# is to evenly distribute phase labels '4 and 5' to sites which have value=0
# per above 'set i1 stitch' command; all values < 1 are dynamic and not pinned
# and are set to phases 4 or 5
set i1 range 4 5 if i1 < 1
  716435 settings made for i1

solve_style tree
sector yes
diag_style       energy
temperature	 ${T}
temperature	 0.25
stats            10.0

# Dump stitch file and images at time intervals of 100
dump         dump.id stitch 100 ${OUT_FILLER} i1
dump         dump.id stitch 100 three_filler_unequal_affinities_100x100x100.st i1
dump threedee image 100 ${OUT_IMAGE}.*.jpg site site crange 1 5 drange 1 1 shape cube box no 1 zoom 1.3 size 512 512 sdiam 1.05
dump threedee image 100 three_filler_unequal_affinities.*.jpg site site crange 1 5 drange 1 1 shape cube box no 1 zoom 1.3 size 512 512 sdiam 1.05
# Order of colors here correspond with phases 1/2/3/4/5
dump_modify threedee scolor * red/black/white/blue/limegreen backcolor gray

run             ${DT}
run             400
Setting up run ...
Running with 32-bit site IDs
Memory usage per processor = 21.875 Mbytes
      Time    Naccept    Nreject    Nsweeps        CPU     Energy
         0          0          0          0          0 1.25677e+07
   11.5071    2781405          0          9       43.6 7.60515e+06
    20.056    3783882          0         12       56.8 7.36097e+06
   33.6853    5144134          0         16       74.7 7.14239e+06
   40.6689    5774464          0         18       82.7 7.06558e+06
   51.5854    6706980          0         21       94.6 6.97403e+06
   62.8214    7612101          0         24        105 6.90112e+06
   70.1256    8182121          0         26        112 6.85774e+06
   81.4877    9037986          0         29        122 6.79852e+06
   93.9133    9947509          0         32        132 6.74004e+06
   101.868   10509640          0         34        138 6.70806e+06
   110.497   11110209          0         36        145 6.67416e+06
   122.402   11921639          0         39        154 6.6328e+06
   130.302   12447234          0         41        160 6.60818e+06
   142.604   13253481          0         44        168 6.5715e+06
    151.11   13797080          0         46        174 6.55114e+06
   162.986   14546511          0         49        182 6.52256e+06
   171.095   15047613          0         51        188 6.50214e+06
   183.699   15815327          0         54        196 6.47604e+06
   191.733   16292575          0         56        202 6.45704e+06
   200.777   16828428          0         58        208 6.43926e+06
   213.985   17601697          0         61        216 6.41538e+06
   222.655   18105958          0         63        222 6.39788e+06
   231.786   18633371          0         65        228 6.38385e+06
   240.541   19133969          0         67        233 6.37266e+06
   253.689   19884282          0         70        241 6.34991e+06
   262.401   20372764          0         72        247 6.33928e+06
   271.013   20853569          0         74        252 6.32989e+06
    283.66   21556049          0         77        260 6.31233e+06
   292.142   22020378          0         79        265 6.30167e+06
   300.703   22486908          0         81        270 6.29278e+06
   313.115   23155709          0         84        278 6.28026e+06
   322.416   23652196          0         86        283 6.26988e+06
   330.731   24095292          0         88        288 6.26211e+06
    343.69   24784371          0         91        295 6.24732e+06
   352.181   25229118          0         93        300 6.24058e+06
   360.381   25656479          0         95        305 6.23142e+06
   372.688   26296060          0         98        312 6.21812e+06
   380.467   26698983          0        100        317 6.2108e+06
   393.413   27370351          0        103        324 6.19946e+06
       400   27706380          0        105        328 6.19406e+06
Loop time of 328.263 on 8 procs

Solve time (%) = 0.692072 (0.210829)
Update time (%) = 0 (0)
Comm  time (%) = 58.667 (17.872)
Outpt time (%) = 3.05789 (0.931538)
App   time (%) = 265.75 (80.9563)
Other time (%) = 0.0964862 (0.029393)
