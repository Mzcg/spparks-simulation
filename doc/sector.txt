"SPPARKS WWW Site"_sws - "SPPARKS Documentation"_sd - "SPPARKS Commands"_sc :c

:link(sws,http://www.cs.sandia.gov/~sjplimp/spparks.html)
:link(sd,Manual.html)
:link(sc,Section_commands.html#comm)

:line

sector command :h3

[Syntax:]

sector flag keyword value ... :pre

flag = {yes} or {no} :ulb,l
zero or more keyword/value pairs may be appended :l
keyword = {tstop} or {nstop} :l
  {tstop} value = dt
    dt = elapsed time for events to perform within sector (seconds)
  {nstop} value = N
    N = average number of events per site to perform within sector :pre
:ule

[Examples:]

sector no
sector yes
sector yes nstop 0.5
sector yes tstop 5.0 :pre

[Description:]

This command partitions the portion of the simulation domain owned by
each processor into sectors or sub-domains.  It can only be used for
"on-lattice applications"_app_style.html.  Typically, it is used in a
parallel simulation, to enable parallelism, but it can also be used on
a single processor.  For 2d lattices, each processor's sub-domain is
partitioned into quadrants.  In 3d it is partitined into octants.

If sectors are turned on via a {yes} setting, then a kinetic Monte
Carlo (KMC) or rejection KMC (rKMC) algorithm is performed in the
following manner.  Events or sites are selected within the first
sector on each processor, via a "solver"_solve_style.html or "sweeping
method"_sweep.html.  Communication is then done between processors to
update sector boundaries.  Then all proecessors move to the next
sector, and the process is repeated.  Thus a single sweep over the
entire lattice is performed in 4 (or 8) stages for 2d (or 3d)
lattices, as sectors are processed one at a time, followed by the
appropriate communication.  This procedure insure events occurring on
one processor do not conflict with events performed by other
processors.

The optional keywords for this command determine how much time is
spent on each sector (i.e. how many events are performed) before
moving to the next sector.  Note that using sectors turns an exact KMC
or rKMC algorithm into an approximate one, in the spirit of
"Amar"_#Amar.  This is because events are occuring within a sector
while the state of the system on the boundary of the sector is held
frozen.  If the time-per-sector is too large, this will require less
communication but will induce incorrect dynamics at the sector
boundaries.  Conversely, if the time-per-sector is too small, the
simulation will perform few events per sector and spend too much time
communicating.

If the {tstop} keyword is used, the time per sector is set to the
specified value.  For a KMC algorithm, events are performed until this
time threshhold is reached.  For a rKMC algorithm, a time per
attempted event is defined, and events are attempted until this time
threshhold is reached.

If the {nstop} keyword is used, it sets the average number of events
(or attempts) per site.  For example, an {nstop} value of 2.0 means
attempt 2 events per site for an rKMC algorithm.  For a KMC algorithm,
this is converted into a time by computing the maximum propensity of
all sites within any sector in the simulation domain.  In the KMC
case, this means that if the total propensity of the system decreases
as the simulation proceeds (e.g. grain growth occurs), then the
effective time per sweep will increase in an adaptive way.  Said
another way, the number of events per sweep will remain roughly
constant, as the time per event increases.  In the rKMC case, the time
per attempt is constant due to the use of a null-bin, so there is no
adaptivity.

If neither the {tstop} or {nstop} keywords are specified, a default
value of nstop = 1.0 is used, meaning one event per site is performed
or attempted in the KMC or rKMC algorithm in each sector.  This should
give good behavior in many applications, meaning high accuracy is
achieved with good parallel performance due to a modest amount of
communication being performed.

Note that it makes no sense to define {tstop} and {nstop} together
since they defined the time-per-sector in different ways.  If both
are used, the last setting takes precedence.

[Restrictions:]

This command can only be used as part of on-lattice applications
as specified by the "app_style"_app_style.html command.

[Related commands:]

"app_style"_app_style.html, "solve_style"_solve_style.html,
"sweep"_sweep.html

[Default:]

The option defaults are nstop = 1.0.

:line

:link(Amar)
[(Amar)] Shin and Amar, Phys Rev B, 71, 125432-1-125432-13 (2005).
