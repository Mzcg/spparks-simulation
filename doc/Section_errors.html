<HTML>
<CENTER><A HREF = "Section_modify.html">Previous Section</A> - <A HREF = "http://KMC.sandia.gov">KMC WWW Site</A> - <A HREF = "Manual.html">KMC
Documentation</A> - <A HREF = "Section_commands.html#comm">KMC Commands</A> - <A HREF = "Section_history.html">Next
Section</A> 
</CENTER>






<HR>

<H3>9. Errors 
</H3>
<P>This section describes the various kinds of errors you can encounter
when using KMC.
</P>
9.1 <A HREF = "#9_1">Common problems</A><BR>
9.2 <A HREF = "#9_2">Reporting bugs</A><BR>
9.3 <A HREF = "#9_3">Error & warning messages</A> <BR>

<HR>

<A NAME = "9_1"></A><H4>9.1 Common problems 
</H4>
<P>If two KMC runs do not produce the same answer on different
machines or different numbers of processors, this is typically not a
bug.  In theory you should get identical answers on any number of
processors and on any machine.  In practice, numerical round-off can
cause slight differences and eventual divergence of molecular dynamics
phase space trajectories within a few 100s or few 1000s of timesteps.
However, the statistical properties of the two runs (e.g. average
energy or temperature) should still be the same.
</P>
<P>A KMC simulation typically has two stages, setup and run.  Most
KMC errors are detected at setup time; others like a bond
stretching too far may not occur until the middle of a run.
</P>
<P>KMC tries to flag errors and print informative error messages so
you can fix the problem.  Of course KMC cannot figure out your
physics mistakes, like choosing too big a timestep, specifying invalid
force field coefficients, or putting 2 atoms on top of each other!  If
you find errors that KMC doesn't catch that you think it should
flag, please send an email to the
<A HREF = "http://KMC.sandia.gov/authors.html">developers</A>.
</P>
<P>If you get an error message about an invalid command in your input
script, you can determine what command is causing the problem by
looking in the log.kmc file or using the <A HREF = "echo.html">echo command</A>
to see it on the screen.  For a given command, KMC expects certain
arguments in a specified order.  If you mess this up, KMC will
often flag the error, but it may read a bogus argument and assign a
value that is valid, but not what you wanted.  E.g. trying to read the
string "abc" as an integer value and assigning the associated variable
a value of 0.
</P>
<P>Generally, KMC will print a message to the screen and exit
gracefully when it encounters a fatal error.  Sometimes it will print
a WARNING and continue on; you can decide if the WARNING is important
or not.  If KMC crashes or hangs without spitting out an error
message first then it could be a bug (see <A HREF = "#9_2">this section</A>) or one
of the following cases:
</P>
<P>KMC runs in the available memory a processor allows to be
allocated.  Most reasonable MD runs are compute limited, not memory
limited, so this shouldn't be a bottleneck on most platforms.  Almost
all large memory allocations in the code are done via C-style malloc's
which will generate an error message if you run out of memory.
Smaller chunks of memory are allocated via C++ "new" statements.  If
you are unlucky you could run out of memory just when one of these
small requests is made, in which case the code will crash or hang (in
parallel), since KMC doesn't trap on those errors.
</P>
<P>Illegal arithmetic can cause KMC to run slow or crash.  This is
typically due to invalid physics and numerics that your simulation is
computing.  If you see wild thermodynamic values or NaN values in your
KMC output, something is wrong with your simulation.
</P>
<P>In parallel, one way KMC can hang is due to how different MPI
implementations handle buffering of messages.  If the code hangs
without an error message, it may be that you need to specify an MPI
setting or two (usually via an environment variable) to enable
buffering or boost the sizes of messages that can be buffered.
</P>
<HR>

<A NAME = "9_2"></A><H4>9.2 Reporting bugs 
</H4>
<P>If you are confident that you have found a bug in KMC, please send
an email to the <A HREF = "http://KMC.sandia.gov/authors.html">developers</A>.
</P>
<P>First, check the "New features and bug fixes" section of the <A HREF = "lws">KMC
WWW site</A> to see if the bug has already been reported or fixed.
</P>
<P>If not, the most useful thing you can do for us is to isolate the
problem.  Run it on the smallest number of atoms and fewest number of
processors and with the simplest input script that reproduces the bug.
</P>
<P>In your email, describe the problem and any ideas you have as to what
is causing it or where in the code the problem might be.  We'll
request your input script and data files if necessary.
</P>
<HR>

<H4><A NAME = "9_3"></A>9.3 Error & warning Messages 
</H4>
<P>These are two alphabetic lists of the <A HREF = "#error">ERROR</A> and
<A HREF = "#warn">WARNING</A> messages KMC prints out and the reason why.  If the
explanation here is not sufficient, the documentation for the
offending command may help.  Grepping the source files for the text of
the error message and staring at the source code and comments is also
not a bad idea!  Note that sometimes the same message can be printed
from multiple places in the code.
</P>
<H4><A NAME = "error"></A>Errors: 
</H4>
<DL>

<DT><I>All pair coeffs are not set</I> 

<DD>All pair coefficients must be set in the data file or by the
pair_coeff command before running a simulation. 


</DL>
<H4><A NAME = "warn"></A>Warnings: 
</H4>
<DL>

<DT><I>Fix recenter should come after all other integration fixes</I> 

<DD>Other fixes may change the position of the center-of-mass, so 
fix recenter should come last. 


</DL>
</HTML>
